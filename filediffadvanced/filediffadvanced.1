NAME
     filediffadvanced - advanced file comparison tool with text and binary diff modes

SYNOPSIS
     filediffadvanced [OPTIONS] FILE1 FILE2

DESCRIPTION
     filediffadvanced is an advanced diff utility that compares two files
     either line-by-line (text mode) or byte-by-byte (binary mode).
     It supports automatic mode detection, detailed difference reporting,
     optional performance statistics, and output redirection.

     The program efficiently handles large files by using mmap(2) when
     available and provides graceful interruption handling via SIGINT.

OPTIONS
     -t, --text
            Force text mode comparison.

     -b, --binary
            Force binary mode comparison.

     -s, --stats
            Display performance statistics including:
                • execution time
                • file sizes
                • total bytes compared
                • number of differences
                • mmap usage
                • throughput (MB/s)

     -o FILE, --output FILE
            Write output to FILE instead of stdout.

     -h, --help
            Display usage information and exit.

ARGUMENTS
     FILE1
            Path to the first file to compare.

     FILE2
            Path to the second file to compare.

OUTPUT FORMAT
     Text Mode Output:
            === TEXT COMPARISON ===
            File 1: <N1> lines
            File 2: <N2> lines

            Line <n> differs:
            < line from file1
            > line from file2

     Binary Mode Output:
            === BINARY COMPARISON ===
            File 1 size: <bytes>
            File 2 size: <bytes>

            Offset 0xXXXXXXXX (<decimal>): 0xAA != 0xBB ('A' vs 'B')

     Statistics (if --stats used):
            === PERFORMANCE STATISTICS ===
            Execution time: X.XXX ms
            File 1 size: N bytes
            File 2 size: N bytes
            Total bytes compared: N
            Differences found: N
            Memory mapping: Yes/No
            Throughput: XX.XX MB/s

EXAMPLES
    Text Mode Comparison:
        ./filediffadvanced -t test1.txt test2.txt
    
    Binary Mode Comparison:
        ./filediffadvanced -b binary1.bin binary2.bin
    
    Statistics:
        ./filediffadvanced -b -s binary1.bin binary2.bin


EXIT STATUS
     0   The files are identical.

     1   The files differ.

     2   An error occurred. This includes:
             • invalid arguments
             • failed file I/O
             • memory mapping failure
             • user interruption (SIGINT)

SIGNAL HANDLING
     SIGINT (Ctrl+C)
            The program stops the comparison gracefully and exits with code 2.

IMPLEMENTATION NOTES
     • Uses mmap(2) for efficient file reading when possible.
     • Detects text vs. binary files by sampling first 512 bytes.
     • Prints printable ASCII or ‘.’ for non-printable bytes in binary mode.
     • Uses getopt_long(3) to parse command-line options.

AUTHOR
     Angus Chen  
     GitHub: https://github.com/httpsdluc/csc332-group1

SEE ALSO
     diff(1), cmp(1), mmap(2), getopt_long(3)

